<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Course Alignment Activity</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    h3, h4 { margin-top: 30px; }
    .container { display: flex; flex-wrap: wrap; gap: 20px; }
    .column {
      flex: 1;
      min-width: 200px;
      padding: 10px;
      border: 2px solid #ccc;
      border-radius: 8px;
      background-color: #f9f9f9;
    }
    .column h4 { text-align: center; }
    .item {
      padding: 8px;
      margin: 5px 0;
      background-color: #e0f7fa;
      border: 1px solid #00796b;
      border-radius: 4px;
      cursor: move;
    }
    .dropzone {
      min-height: 100px;
      padding: 10px;
      margin-top: 10px;
      border: 2px dashed #aaa;
      border-radius: 6px;
      background-color: #fff;
    }
    .correct { background-color: #d0f0c0; border-color: #388e3c; }
    .incorrect { background-color: #ffcdd2; border-color: #d32f2f; }
    button { margin-top: 20px; padding: 10px 15px; font-size: 16px; }
    .hint { font-style: italic; color: #333; margin-top: 10px; white-space: pre-line; }
    .visually-hidden { position: absolute; left: -10000px; top: auto; width: 1px; height: 1px; overflow: hidden; }
  </style>
</head>
<body>

<h3 id="activity-title">📚 Course Alignment Activity: Cooking 101</h3>
<p><em>Step 1: Drag each Module-level Learning Objective (MLO) into the appropriate Course-level Objective (CLO).<br>
Step 2: Drag each Assessment or Learning Activity into the appropriate MLO.</em></p>

<h4>Step 1: Match MLOs to CLOs</h4>
<div class="container" aria-labelledby="activity-title">
  <div class="column">
    <h4>CLO1: Demonstrate kitchen safety and tool usage</h4>
    <div class="dropzone" id="clo1" aria-label="Drop zone for CLO1"></div>
  </div>
  <div class="column">
    <h4>CLO2: Apply basic cooking techniques to prepare meals</h4>
    <div class="dropzone" id="clo2" aria-label="Drop zone for CLO2"></div>
  </div>
</div>

<h4>Available Module-level Objectives (MLOs)</h4>
<div class="container">
  <div class="column" id="mloStart">
    <div class="item" draggable="true" id="mlo1" tabindex="0">MLO1: Identify basic kitchen tools</div>
    <div class="item" draggable="true" id="mlo2" tabindex="0">MLO2: Explain safe food handling practices</div>
    <div class="item" draggable="true" id="mlo3" tabindex="0">MLO3: Prepare a balanced breakfast</div>
  </div>
</div>

<h4>Step 2: Match Assessments and Learning Activities to MLOs</h4>
<div class="container">
  <div class="column">
    <h4>MLO1: Identify basic kitchen tools</h4>
    <div class="dropzone" id="mloDrop1" aria-label="Drop zone for MLO1"></div>
  </div>
  <div class="column">
    <h4>MLO2: Explain safe food handling practices</h4>
    <div class="dropzone" id="mloDrop2" aria-label="Drop zone for MLO2"></div>
  </div>
  <div class="column">
    <h4>MLO3: Prepare a balanced breakfast</h4>
    <div class="dropzone" id="mloDrop3" aria-label="Drop zone for MLO3"></div>
  </div>
</div>

<h4>Available Assessments and Learning Activities</h4>
<div class="container">
  <div class="column" id="assessmentStart">
    <div class="item" draggable="true" id="a1" tabindex="0">Assessment: Label parts of a kitchen diagram</div>
    <div class="item" draggable="true" id="a2" tabindex="0">Assessment: Complete a safety checklist</div>
    <div class="item" draggable="true" id="a3" tabindex="0">Assessment: Submit photo of breakfast plate</div>
    <div class="item" draggable="true" id="la1" tabindex="0">Learning Activity: Practice quiz on kitchen tools</div>
    <div class="item" draggable="true" id="la2" tabindex="0">Learning Activity: Safety role-play</div>
    <div class="item" draggable="true" id="la3" tabindex="0">Learning Activity: Live cooking demonstration</div>
  </div>
</div>

<button onclick="checkAnswers()">Check Answers</button>
<button onclick="resetActivity()">Reset</button>
<div id="feedback" style="margin-top: 20px; font-weight: bold;" aria-live="polite"></div>
<div id="hints" class="hint"></div>

<script>
  document.querySelectorAll('.item').forEach(item => {
    item.addEventListener('dragstart', (e) => {
      e.dataTransfer.setData('text/plain', e.target.id);
    });
  });

  document.querySelectorAll('.dropzone').forEach(dropzone => {
    dropzone.addEventListener('dragover', (e) => e.preventDefault());
    dropzone.addEventListener('drop', (e) => {
      e.preventDefault();
      const id = e.dataTransfer.getData('text');
      const dragged = document.getElementById(id);
      if (dragged) e.target.appendChild(dragged);
    });
  });

  const correctMappings = {
    clo1: ['mlo1', 'mlo2'],
    clo2: ['mlo3'],
    mloDrop1: ['a1', 'la1'],
    mloDrop2: ['a2', 'la2'],
    mloDrop3: ['a3', 'la3']
  };

  const hints = {
    clo1: 'Think about which MLOs focus on kitchen tools and safety practices.',
    clo2: 'Which MLO involves preparing a full meal?',
    mloDrop1: 'What activities help learners recognize and label kitchen tools?',
    mloDrop2: 'What helps learners practice kitchen safety habits?',
    mloDrop3: 'Which tasks ask learners to demonstrate cooking a meal?'
  };

  function checkAnswers() {
    let allCorrect = true;
    let feedback = '';
    let hintText = '';

    Object.entries(correctMappings).forEach(([zoneId, correctIds]) => {
      const zone = document.getElementById(zoneId);
      const dropped = Array.from(zone.children).map(el => el.id);
      const isCorrect = correctIds.every(id => dropped.includes(id)) && dropped.every(id => correctIds.includes(id));

      zone.classList.remove('correct', 'incorrect');
      zone.classList.add(isCorrect ? 'correct' : 'incorrect');

      if (!isCorrect) {
        allCorrect = false;
        hintText += `\u2022 ${hints[zoneId]}\n`;
      }
    });

    document.getElementById('feedback').textContent = allCorrect
      ? '✅ Great job! Everything is correctly aligned.'
      : '❌ Some items are not correctly placed. Review the suggestions below and try again:';

    document.getElementById('hints').textContent = allCorrect ? '' : hintText;
  }

  function resetActivity() {
    const mloStart = document.getElementById('mloStart');
    const assessmentStart = document.getElementById('assessmentStart');

    ['mlo1', 'mlo2', 'mlo3'].forEach(id => {
      const el = document.getElementById(id);
      if (el) mloStart.appendChild(el);
    });

    ['a1', 'a2', 'a3', 'la1', 'la2', 'la3'].forEach(id => {
      const el = document.getElementById(id);
      if (el) assessmentStart.appendChild(el);
    });

    document.querySelectorAll('.dropzone').forEach(dz => dz.classList.remove('correct', 'incorrect'));
    document.getElementById('feedback').textContent = '';
    document.getElementById('hints').textContent = '';
  }
</script>

</body>
</html>
